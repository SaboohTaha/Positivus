---
import seoSrc       from '@assets/svgs/services/SEO.svg?url';
import ppcSrc       from '@assets/svgs/services/PPC.svg?url';
import smmSrc       from '@assets/svgs/services/SMM.svg?url';
import emSrc        from '@assets/svgs/services/EM.svg?url';
import ccSrc        from '@assets/svgs/services/CC.svg?url';
import analyticsSrc from '@assets/svgs/services/Analytics.svg?url';

import SectionHeader from '@components/ui/SectionHeader.astro';
import ArrowInCircle from '@components/svgs/icons/ArrowInCircle.astro';

/**
 * Card variants (from Figma):
 *
 * bg        | pillBg   | arrowColors               | linkColor
 * --------- | -------- | ------------------------- | ---------
 * #F3F3F3   | #B9FF66  | black / green             | #000000   ← grey card
 * #B9FF66   | #FFFFFF  | black / green             | #000000   ← green card
 * #191A23   | #FFFFFF  | white / black             | #FFFFFF   ← dark card (white pills)
 * #191A23   | #B9FF66  | white / black             | #FFFFFF   ← dark card (green pills)
 */
const CARDS = [
  {
    lines:       ['Search engine', 'optimization'],
    bg:          '#F3F3F3',
    pillBg:      '#B9FF66',
    arrowColors: { circle: '#191A23', arrow: '#B9FF66' },
    linkColor:   '#000000',
    svgSrc:      seoSrc,
    imgFlip:     false,
  },
  {
    lines:       ['Pay-per-click', 'advertising'],
    bg:          '#B9FF66',
    pillBg:      '#FFFFFF',
    arrowColors: { circle: '#191A23', arrow: '#B9FF66' },
    linkColor:   '#000000',
    svgSrc:      ppcSrc,
    imgFlip:     false,
  },
  {
    lines:       ['Social media', 'marketing'],
    bg:          '#191A23',
    pillBg:      '#FFFFFF',
    arrowColors: { circle: 'white', arrow: '#191A23' },
    linkColor:   '#FFFFFF',
    svgSrc:      smmSrc,
    imgFlip:     false,
  },
  {
    lines:       ['Email', 'marketing'],
    bg:          '#F3F3F3',
    pillBg:      '#B9FF66',
    arrowColors: { circle: '#191A23', arrow: '#B9FF66' },
    linkColor:   '#000000',
    svgSrc:      emSrc,
    imgFlip:     true,
  },
  {
    lines:       ['Content', 'creation'],
    bg:          '#B9FF66',
    pillBg:      '#FFFFFF',
    arrowColors: { circle: '#191A23', arrow: '#B9FF66' },
    linkColor:   '#000000',
    svgSrc:      ccSrc,
    imgFlip:     false,
  },
  {
    lines:       ['Analytics and', 'tracking'],
    bg:          '#191A23',
    pillBg:      '#B9FF66',
    arrowColors: { circle: 'white', arrow: '#191A23' },
    linkColor:   '#FFFFFF',
    svgSrc:      analyticsSrc,
    imgFlip:     false,
  },
];
---

<section id="services" class="pt-[70px] pb-[70px] bg-white">

  <SectionHeader 
    title="Services"
    description="At our digital marketing agency, we offer a range of services to help businesses grow and succeed online. These services include:"
  />

  <!-- Cards Grid -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-[40px] w-full mx-auto max-w-[1440px] px-[20px] md:px-container-padding">
    {CARDS.map((card) => (
      <div
        class="flex flex-row justify-between items-center box-border w-full h-auto min-h-[270px] lg:h-[310px] p-[30px] lg:p-[50px] border border-[#191A23] rounded-[45px] overflow-hidden"
        style={`
          background: ${card.bg};
          box-shadow: 0px 5px 0px #191A23;
        `}
      >
        <!-- LEFT: Heading + Link -->
        <div class="flex flex-col justify-between h-full items-start gap-10 lg:gap-[93px] flex-1 min-w-0">
          
          <div class="flex flex-col items-start">
            {card.lines.map((line) => (
              <div
                class="flex items-start px-[7px] rounded-[7px] mb-1 last:mb-0"
                style={`background: ${card.pillBg};`}
              >
                <h3 class="m-0 font-sans font-medium text-[20px] md:text-[24px] lg:text-[30px] leading-[28px] md:leading-[32px] lg:leading-[38px] text-black whitespace-normal md:whitespace-nowrap">
                  {line}
                </h3>
              </div>
            ))}
          </div>

          <a href="#" class="flex flex-row items-center gap-[15px] no-underline group shrink-0">
            <ArrowInCircle 
              className="w-[41px] h-[41px] transition-transform group-hover:rotate-12" 
              circleFill={card.arrowColors.circle}
              arrowFill={card.arrowColors.arrow}
            />
            <span
              class="hidden md:inline font-sans font-normal text-[18px] lg:text-[20px] leading-[28px] whitespace-nowrap"
              style={`color: ${card.linkColor};`}
            >
              Learn more
            </span>
          </a>
        </div>

        <!-- RIGHT: Illustration -->
        <div class="shrink-0 flex items-center justify-center w-[110px] md:w-[140px] xl:w-[210px] h-[110px] md:h-[140px] xl:h-[210px] ml-4">
          <img
            src={card.svgSrc}
            alt=""
            aria-hidden="true"
            class="block max-w-full max-h-full object-contain"
            style={card.imgFlip ? 'transform: scaleX(-1);' : undefined}
          />
        </div>
      </div>
    ))}
  </div>

</section>
